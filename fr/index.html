<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ClawPurse Gateway — Passerelle de micropaiements HTTP 402 pour agents IA et APIs</title>
  <meta name="description" content="Proxy inverse HTTP 402 open source protégeant toute API avec des micropaiements NTMPI sur blockchain Neutaro.">
  <meta name="keywords" content="HTTP 402, Payment Required, micropayment gateway, API monetization, pay-per-request, NTMPI, Neutaro, blockchain payments, agentic AI, machine-to-machine payments, DePIN, x402 protocol, AI agent commerce, reverse proxy, ClawPurse, Timpi, crypto micropayments, API paywall, on-chain verification">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://gateway.clawpurse.ai/fr/">
  <link rel="alternate" hreflang="en" href="https://gateway.clawpurse.ai/" />
  <link rel="alternate" hreflang="ja" href="https://gateway.clawpurse.ai/ja/" />
  <link rel="alternate" hreflang="ko" href="https://gateway.clawpurse.ai/ko/" />
  <link rel="alternate" hreflang="es" href="https://gateway.clawpurse.ai/es/" />
  <link rel="alternate" hreflang="fr" href="https://gateway.clawpurse.ai/fr/" />
  <link rel="alternate" hreflang="hi" href="https://gateway.clawpurse.ai/hi/" />
  <link rel="alternate" hreflang="zh" href="https://gateway.clawpurse.ai/zh/" />
  <link rel="alternate" hreflang="id" href="https://gateway.clawpurse.ai/id/" />
  <link rel="alternate" hreflang="x-default" href="https://gateway.clawpurse.ai/" />
  <meta property="og:title" content="ClawPurse Gateway — Passerelle de micropaiements HTTP 402 pour agents IA">
  <meta property="og:description" content="Proxy inverse open source protégeant toute API avec des micropaiements NTMPI on-chain.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://gateway.clawpurse.ai/fr/">
  <meta property="og:site_name" content="ClawPurse Gateway">
  <meta property="og:locale" content="en_US">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ClawPurse Gateway — Passerelle de micropaiements HTTP 402 pour agents IA">
  <meta name="twitter:description" content="Proxy inverse open source. Conçu pour IA agentique et commerce machine-à-machine sur Neutaro.">
  <meta name="author" content="Mhue">
  <meta name="generator" content="ClawPurse">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-void: #020409;
      --bg-base: #070b14;
      --bg-card: #0c1220;
      --bg-elevated: #111a2e;
      --accent-402: #ff3b30;
      --accent-402-dim: rgba(255, 59, 48, 0.15);
      --accent-mint: #32d6a8;
      --accent-mint-dim: rgba(50, 214, 168, 0.12);
      --accent-gold: #fbbf24;
      --accent-gold-dim: rgba(251, 191, 36, 0.12);
      --text-1: #eef2ff;
      --text-2: #8b95b0;
      --text-3: #515c75;
      --border-1: rgba(139, 149, 176, 0.12);
      --border-2: rgba(139, 149, 176, 0.06);
      --font-body: 'DM Sans', system-ui, -apple-system, sans-serif;
      --font-mono: 'IBM Plex Mono', 'SF Mono', 'Fira Code', monospace;
      --radius-sm: 8px;
      --radius-md: 14px;
      --radius-lg: 22px;
      --radius-xl: 32px;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font-body);
      background: var(--bg-void);
      color: var(--text-1);
      min-height: 100vh;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    /* ---- Ambient background ---- */
    .ambient {
      position: fixed; inset: 0; z-index: -1; pointer-events: none;
      background:
        radial-gradient(ellipse 80% 60% at 15% 10%, rgba(255,59,48,0.06), transparent),
        radial-gradient(ellipse 70% 50% at 85% 5%, rgba(50,214,168,0.05), transparent),
        radial-gradient(ellipse 60% 80% at 50% 100%, rgba(251,191,36,0.03), transparent),
        var(--bg-void);
    }
    .grain {
      position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: 0.35;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    }

    /* ---- Utility ---- */
    .container { max-width: 1060px; margin: 0 auto; padding: 0 24px; }
    .mono { font-family: var(--font-mono); }
    .tag {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 5px 12px; border-radius: 999px; font-size: 0.75rem;
      font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase;
    }
    .tag--402 { background: var(--accent-402-dim); color: var(--accent-402); }
    .tag--mint { background: var(--accent-mint-dim); color: var(--accent-mint); }
    .tag--gold { background: var(--accent-gold-dim); color: var(--accent-gold); }

    /* ---- Hero ---- */
    .hero { padding: 96px 0 72px; text-align: center; }
    .hero__badge {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 6px 16px 6px 8px; border-radius: 999px;
      background: var(--bg-card); border: 1px solid var(--border-1);
      font-size: 0.82rem; color: var(--text-2); margin-bottom: 28px;
    }
    .hero__badge .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--accent-mint);
      box-shadow: 0 0 8px var(--accent-mint);
      animation: pulse-dot 2.4s ease-in-out infinite;
    }
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }
    .hero h1 {
      font-size: clamp(2.6rem, 5.5vw, 4.2rem);
      font-weight: 700; line-height: 1.08;
      letter-spacing: -0.03em;
    }
    .hero h1 .hl-402 {
      background: linear-gradient(135deg, var(--accent-402), #ff6a5e);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero__sub {
      margin: 20px auto 0; max-width: 620px;
      font-size: 1.15rem; color: var(--text-2); line-height: 1.7;
    }
    .hero__actions {
      margin-top: 40px; display: flex; flex-wrap: wrap;
      gap: 14px; justify-content: center;
    }
    .btn {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 13px 26px; border-radius: var(--radius-xl);
      font-family: var(--font-body); font-size: 0.92rem; font-weight: 600;
      text-decoration: none; border: none; cursor: pointer;
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn--primary {
      background: linear-gradient(135deg, var(--accent-402), #cc2d24);
      color: #fff; box-shadow: 0 8px 32px rgba(255,59,48,0.3);
    }
    .btn--primary:hover { box-shadow: 0 12px 40px rgba(255,59,48,0.4); }
    .btn--ghost {
      background: transparent; color: var(--text-1);
      border: 1px solid var(--border-1);
    }
    .btn--ghost:hover { border-color: var(--text-3); }
    .btn--mint {
      background: linear-gradient(135deg, var(--accent-mint), #28b893);
      color: var(--bg-void); box-shadow: 0 8px 32px rgba(50,214,168,0.25);
    }

    /* ---- Flow diagram ---- */
    .flow { padding: 48px 0 64px; }
    .flow__box {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); padding: 32px;
      overflow-x: auto;
      box-shadow: 0 24px 64px rgba(0,0,0,0.4);
    }
    .flow__box pre {
      font-family: var(--font-mono); font-size: 0.82rem;
      line-height: 1.65; color: var(--text-2); white-space: pre;
      margin: 0;
    }
    .flow__box pre .c-402 { color: var(--accent-402); font-weight: 600; }
    .flow__box pre .c-mint { color: var(--accent-mint); }
    .flow__box pre .c-gold { color: var(--accent-gold); }
    .flow__box pre .c-dim { color: var(--text-3); }

    /* ---- Section headings ---- */
    .section { padding: 64px 0; }
    .section__label { margin-bottom: 8px; }
    .section__title {
      font-size: clamp(1.6rem, 3vw, 2.1rem);
      font-weight: 700; letter-spacing: -0.02em;
      margin-bottom: 12px;
    }
    .section__desc {
      color: var(--text-2); max-width: 640px; font-size: 1.05rem;
      margin-bottom: 40px;
    }

    /* ---- Feature grid ---- */
    .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }
    .fcard {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); padding: 28px;
      transition: border-color 0.25s ease, box-shadow 0.25s ease;
    }
    .fcard:hover { border-color: rgba(139,149,176,0.2); box-shadow: 0 16px 48px rgba(0,0,0,0.3); }
    .fcard__icon {
      width: 40px; height: 40px; border-radius: var(--radius-sm);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem; margin-bottom: 16px;
    }
    .fcard__icon--red   { background: var(--accent-402-dim); }
    .fcard__icon--mint  { background: var(--accent-mint-dim); }
    .fcard__icon--gold  { background: var(--accent-gold-dim); }
    .fcard h3 { font-size: 1.05rem; font-weight: 600; margin-bottom: 8px; }
    .fcard p  { color: var(--text-2); font-size: 0.92rem; line-height: 1.6; }

    /* ---- API table ---- */
    .api-table-wrap {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }
    .api-table-wrap h3 {
      padding: 20px 24px 0; font-size: 0.95rem; font-weight: 600;
      color: var(--text-2); letter-spacing: 0.03em;
    }
    table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
    thead th {
      text-align: left; padding: 14px 24px; font-weight: 600;
      color: var(--text-3); border-bottom: 1px solid var(--border-1);
      font-size: 0.78rem; text-transform: uppercase; letter-spacing: 0.08em;
    }
    tbody td { padding: 12px 24px; border-bottom: 1px solid var(--border-2); }
    tbody tr:last-child td { border-bottom: none; }
    tbody td:first-child { font-family: var(--font-mono); font-size: 0.82rem; }
    .method {
      display: inline-block; font-family: var(--font-mono); font-size: 0.72rem;
      font-weight: 600; padding: 2px 7px; border-radius: 4px;
      letter-spacing: 0.04em; min-width: 44px; text-align: center;
    }
    .method--get  { background: var(--accent-mint-dim); color: var(--accent-mint); }
    .method--post { background: var(--accent-gold-dim); color: var(--accent-gold); }
    .method--any  { background: var(--accent-402-dim); color: var(--accent-402); }
    .path-cell { font-family: var(--font-mono); color: var(--text-1); }
    .desc-cell { color: var(--text-2); }

    /* ---- Code blocks ---- */
    .code-card {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }
    .code-card__header {
      display: flex; align-items: center; gap: 10px;
      padding: 14px 20px; border-bottom: 1px solid var(--border-1);
      background: var(--bg-elevated);
    }
    .code-card__dot {
      width: 10px; height: 10px; border-radius: 50%; opacity: 0.6;
    }
    .code-card__title {
      font-family: var(--font-mono); font-size: 0.78rem;
      color: var(--text-3); margin-left: 4px;
    }
    .code-card pre {
      padding: 20px; margin: 0; overflow-x: auto;
      font-family: var(--font-mono); font-size: 0.82rem;
      line-height: 1.7; color: var(--text-2);
    }
    .code-card pre .kw  { color: var(--accent-402); }
    .code-card pre .fn  { color: var(--accent-mint); }
    .code-card pre .str { color: var(--accent-gold); }
    .code-card pre .cm  { color: var(--text-3); font-style: italic; }
    .code-card pre .num { color: #c4b5fd; }

    /* ---- Dual-column layout ---- */
    .split { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 740px) { .split { grid-template-columns: 1fr; } }

    /* ---- Architecture ---- */
    .arch-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 14px; }
    .acard {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-md); padding: 20px; text-align: center;
    }
    .acard__name {
      font-family: var(--font-mono); font-size: 0.82rem; font-weight: 600;
      margin-bottom: 6px;
    }
    .acard__desc { font-size: 0.82rem; color: var(--text-2); }

    /* ---- Config table ---- */
    .config-table-wrap {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }
    .config-table-wrap table td:nth-child(1) { color: var(--accent-mint); }
    .config-table-wrap table td:nth-child(2) {
      font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-3);
    }

    /* ---- Ecosystem ---- */
    .eco-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 18px; }
    .eco-card {
      background: var(--bg-card); border: 1px solid var(--border-1);
      border-radius: var(--radius-lg); padding: 28px;
    }
    .eco-card h3 { font-size: 1rem; font-weight: 600; margin-bottom: 8px; }
    .eco-card p { color: var(--text-2); font-size: 0.9rem; line-height: 1.6; }
    .eco-card a { color: var(--accent-mint); text-decoration: none; }
    .eco-card a:hover { text-decoration: underline; }

    /* ---- Donate ---- */
    .donate {
      text-align: center; margin-top: 48px; padding: 36px;
      background: var(--bg-card); border: 1px solid var(--accent-402-dim);
      border-radius: var(--radius-lg);
      box-shadow: 0 24px 64px rgba(0,0,0,0.4);
    }
    .donate__addr {
      display: inline-block; margin-top: 12px; padding: 12px 20px;
      background: rgba(0,0,0,0.35); border: 1px solid var(--border-1);
      border-radius: var(--radius-sm);
      font-family: var(--font-mono); font-size: 0.88rem;
      word-break: break-all;
    }

    /* ---- Footer ---- */
    footer {
      text-align: center; padding: 56px 24px 72px;
      color: var(--text-3); font-size: 0.85rem;
    }
    footer a { color: var(--text-2); text-decoration: none; }
    footer a:hover { color: var(--text-1); }
    .footer-links { display: flex; flex-wrap: wrap; gap: 24px; justify-content: center; margin-bottom: 16px; }

    /* ---- Responsive ---- */
    @media (max-width: 600px) {
      .hero { padding: 64px 0 48px; }
      .section { padding: 48px 0; }
      .features { grid-template-columns: 1fr; }
      .arch-cards { grid-template-columns: 1fr 1fr; }
      .flow__box { padding: 20px; }
      .flow__box pre { font-size: 0.7rem; }
    }

    /* ---- Fade-in ---- */
    .reveal {
      opacity: 0; transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .reveal.visible { opacity: 1; transform: translateY(0); }
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "ClawPurse Gateway",
    "alternateName": "ClawPurse 402 Gateway",
    "operatingSystem": "Linux, macOS, Windows",
    "applicationCategory": "FinanceApplication",
    "applicationSubCategory": "Payment Gateway",
    "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
    "description": "Open-source HTTP reverse proxy gating API access behind NTMPI micropayments on the Neutaro blockchain. Designed for agentic AI and machine-to-machine commerce.",
    "softwareVersion": "0.2.0",
    "programmingLanguage": "TypeScript",
    "codeRepository": "https://github.com/mhue-ai/clawpurse-gateway",
    "license": "https://opensource.org/licenses/MIT",
    "author": {
      "@type": "Person",
      "name": "Mhue",
      "url": "https://github.com/mhue-ai"
    },
    "keywords": "HTTP 402, Payment Required, micropayment gateway, API monetization, NTMPI, Neutaro, agentic AI, machine-to-machine payments, DePIN, reverse proxy, blockchain payments"
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is ClawPurse Gateway?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "ClawPurse Gateway is an open-source HTTP reverse proxy that implements the 402 Payment Required status code to gate any API behind NTMPI micropayments on the Neutaro blockchain. It supports pay-per-request and prepaid balance flows for AI agents, automation scripts, and machine-to-machine commerce."
        }
      },
      {
        "@type": "Question",
        "name": "How does the HTTP 402 payment flow work?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A client requests a gated endpoint and receives a 402 response with an invoice containing an invoiceId, amount, address, and memo. The client pays on-chain using ClawPurse or any Neutaro wallet, then retries the request with an X-Payment-Proof header. The gateway verifies the transaction on the Neutaro blockchain and proxies the request to the upstream API."
        }
      },
      {
        "@type": "Question",
        "name": "What is NTMPI and how do I get it?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "NTMPI is the native token of the Neutaro blockchain, part of the Timpi decentralised search network. You can acquire NTMPI on the MEXC exchange via the NTMPI/USDT spot pair, or bridge through Gravity Bridge to Osmosis and swap for NTMPI using Keplr or Leap wallet."
        }
      },
      {
        "@type": "Question",
        "name": "Can AI agents use ClawPurse Gateway autonomously?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. ClawPurse Gateway is designed for agentic AI and machine-to-machine workloads. AI agents can programmatically handle the 402 flow by parsing the invoice, paying on-chain via the ClawPurse wallet API, and retrying with the payment proof header — all without human intervention."
        }
      }
    ]
  }
  </script>
</head>
<body>
  <div class="ambient"></div>
  <div class="grain"></div>

  <!-- ============ HERO ============ -->
  <header class="hero container">
    <a href="#main-content" class="sr-only" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Aller au contenu principal</a>
    <div class="hero__badge" role="status" aria-label="Version status">
      <span class="dot" aria-hidden="true"></span>
      v0.2.0 — open source sur GitHub
    </div>
    <h1>ClawPurse<br><span class="hl-402">402 Gateway</span></h1>
    <p class="hero__sub">
      Un proxy inverse HTTP qui protège toute API avec des <strong>micropaiements NTMPI</strong> sur la blockchain Neutaro. Flux de paiement par requête et solde prépayé pour agents IA, scripts et commerce machine-à-machine.
    </p>
    <nav class="hero__actions" aria-label="Primary actions">
      <a class="btn btn--primary" href="https://github.com/mhue-ai/clawpurse-gateway" target="_blank" rel="noopener">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
        View on GitHub
      </a>
      <a class="btn btn--ghost" href="https://github.com/mhue-ai/clawpurse-gateway/blob/master/README.md" target="_blank" rel="noopener">Lire la documentation</a>
      <a class="btn btn--mint" href="https://github.com/mhue-ai/ClawPurse" target="_blank" rel="noopener">Portefeuille ClawPurse</a>
      <a class="btn btn--ghost" href="https://drip.clawpurse.ai" target="_blank" rel="noopener">Faucet Timpi Drip</a>
    </nav>
    <div style="position:fixed;top:16px;right:16px;z-index:100;"><select id="langSwitcher" aria-label="Langue" onchange="window.location.href=this.value">
            <option value="/">English</option>
            <option value="/ja/">日本語</option>
            <option value="/ko/">한국어</option>
            <option value="/es/">Español</option>
            <option value="/fr/" selected>Français</option>
            <option value="/hi/">हिन्दी</option>
            <option value="/zh/">中文</option>
            <option value="/id/">Bahasa Indonesia</option>
          </select></div>
  </header>

  <!-- ============ FLOW DIAGRAM ============ -->
  <div class="flow container reveal" role="figure" aria-label="Diagramme du flux de paiement HTTP 402">
    <div class="flow__box">
<pre><span class="c-dim">  Client (agent IA, script, navigateur)</span>
    │
    ├── <span class="c-mint">GET /api/data</span> ─────────────────────▶  <span class="c-402">Passerelle 402</span>
    │                                              │
    │   ◀── <span class="c-402">402 Payment Required</span> ────────────────┘
    │       <span class="c-gold">{ invoiceId, amount, address, memo }</span>
    │
    ├── <span class="c-mint">clawpurse send</span> &lt;address&gt; &lt;amount&gt; --memo &lt;memo&gt; --yes
    │       <span class="c-dim">(paiement NTMPI on-chain)</span>
    │
    ├── <span class="c-mint">GET /api/data</span> ─────────────────────▶  <span class="c-402">Passerelle 402</span>
    │   Header: <span class="c-gold">X-Payment-Proof: &lt;invoiceId&gt;</span>     │
    │                                              │
    │   <span class="c-dim">La passerelle vérifie le paiement sur Neutaro</span>    │
    │                                              │
    │   ◀── <span class="c-mint">200 OK</span> <span class="c-dim">(proxy depuis upstream)</span> ────┘</pre>
    </div>
  </div>

  <main class="container" id="main-content">

    <!-- ============ PAYMENT FLOWS ============ -->
    <section class="section reveal" id="payment-flows">
      <span class="tag tag--402">Flux de paiement</span>
      <h2 class="section__title">Deux flux de micropaiement : paiement par requête et solde prépayé</h2>
      <p class="section__desc">
        Que votre agent paie par appel ou pré-finance un solde, la passerelle gère automatiquement la facturation, la vérification on-chain et le proxy.
      </p>
      <div class="split">
        <div class="fcard">
          <div class="fcard__icon fcard__icon--red">1</div>
          <h3>Paiement par requête</h3>
          <p>
            Le client accède à un endpoint protégé et reçoit un <strong>402</strong> avec une facture. Il paie on-chain puis réessaie avec un en-tête <code style="font-size:0.82rem; background:var(--bg-elevated); padding:2px 6px; border-radius:4px;">X-Payment-Proof</code>. La passerelle vérifie et redirige.
          </p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--mint">2</div>
          <h3>Solde prépayé</h3>
          <p>
            Le client dépose des NTMPI une fois via <code style="font-size:0.82rem; background:var(--bg-elevated); padding:2px 6px; border-radius:4px;">/prepaid/deposit</code>. Les requêtes suivantes incluent un en-tête <code style="font-size:0.82rem; background:var(--bg-elevated); padding:2px 6px; border-radius:4px;">X-Client-Id</code> et la passerelle déduit par appel — pas de transactions on-chain répétées.
          </p>
        </div>
      </div>
    </section>

    <!-- ============ FEATURES ============ -->
    <section class="section reveal" id="features">
      <span class="tag tag--mint">Fonctionnalités</span>
      <h2 class="section__title">Conçu pour les agents IA et le commerce machine-à-machine</h2>
      <p class="section__desc">
        Tout ce dont une couche de micropaiements a besoin, rien de plus.
      </p>
      <div class="features">
        <div class="fcard">
          <div class="fcard__icon fcard__icon--red">&#x26A1;</div>
          <h3>Vérification on-chain</h3>
          <p>Interroge Neutaro REST API pour confirmer montant, mémo et confirmations de bloc.</p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--mint">&#x1F9FE;</div>
          <h3>Tarification par route</h3>
          <p>Prix par défaut avec surcharge par route via <code style="font-size:0.8rem; background:var(--bg-elevated); padding:1px 5px; border-radius:4px;">GATEWAY_ROUTES</code>. Lectures bon marché, écritures coûteuses.</p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--gold">&#x1F512;</div>
          <h3>API de gestion</h3>
          <p>Endpoints protégés par JWT pour portefeuilles internes, transactions et registre blockchain léger.</p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--red">&#x1F504;</div>
          <h3>Proxy inverse</h3>
          <p>Transfère les requêtes authentifiées vers votre API upstream. Tout backend, tout langage.</p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--mint">&#x1F4E6;</div>
          <h3>Stockage SQLite</h3>
          <p>Factures, soldes et journaux dans un seul fichier local. Zéro dépendance externe.</p>
        </div>
        <div class="fcard">
          <div class="fcard__icon fcard__icon--gold">&#x1F433;</div>
          <h3>Prêt pour Docker</h3>
          <p>Déploiement avec <code style="font-size:0.8rem; background:var(--bg-elevated); padding:1px 5px; border-radius:4px;">docker compose up</code>. Script Ubuntu inclus.</p>
        </div>
      </div>
    </section>

    <!-- ============ API ENDPOINTS ============ -->
    <section class="section reveal" id="api">
      <span class="tag tag--gold">API</span>
      <h2 class="section__title">Référence des endpoints de la passerelle</h2>
      <p class="section__desc">
        Endpoints gratuits pour health checks, consultations de factures et soldes. Tout le reste passe par le gate 402.
      </p>

      <div style="display: flex; flex-direction: column; gap: 24px;">
        <div class="api-table-wrap">
          <h3>Gratuit — sans paiement</h3>
          <table>
            <thead><tr><th>Méthode</th><th>Chemin</th><th>Description</th></tr></thead>
            <tbody>
              <tr>
                <td><span class="method method--get">GET</span></td>
                <td class="path-cell">/health</td>
                <td class="desc-cell">Health check avec config passerelle</td>
              </tr>
              <tr>
                <td><span class="method method--get">GET</span></td>
                <td class="path-cell">/invoices/:id</td>
                <td class="desc-cell">Vérifier le statut de facture (déclenche vérification on-chain)</td>
              </tr>
              <tr>
                <td><span class="method method--post">POST</span></td>
                <td class="path-cell">/prepaid/deposit</td>
                <td class="desc-cell">Enregistrer un dépôt (vérifie tx on-chain)</td>
              </tr>
              <tr>
                <td><span class="method method--get">GET</span></td>
                <td class="path-cell">/prepaid/balance/:clientId</td>
                <td class="desc-cell">Vérifier le solde prépayé</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-table-wrap">
          <h3>Gestion — protégé par JWT</h3>
          <table>
            <thead><tr><th>Méthode</th><th>Chemin</th><th>Description</th></tr></thead>
            <tbody>
              <tr><td><span class="method method--post">POST</span></td><td class="path-cell">/manage/auth/register</td><td class="desc-cell">Créer un compte administrateur</td></tr>
              <tr><td><span class="method method--post">POST</span></td><td class="path-cell">/manage/auth/login</td><td class="desc-cell">Se connecter, obtenir token JWT</td></tr>
              <tr><td><span class="method method--post">POST</span></td><td class="path-cell">/manage/wallet</td><td class="desc-cell">Créer un portefeuille interne</td></tr>
              <tr><td><span class="method method--get">GET</span></td><td class="path-cell">/manage/wallet</td><td class="desc-cell">Lister vos portefeuilles</td></tr>
              <tr><td><span class="method method--get">GET</span></td><td class="path-cell">/manage/wallet/:id</td><td class="desc-cell">Obtenir portefeuille par ID</td></tr>
              <tr><td><span class="method method--post">POST</span></td><td class="path-cell">/manage/transactions</td><td class="desc-cell">Créer une transaction interne</td></tr>
              <tr><td><span class="method method--get">GET</span></td><td class="path-cell">/manage/transactions/:id</td><td class="desc-cell">Obtenir transaction par ID</td></tr>
            </tbody>
          </table>
        </div>

        <div class="api-table-wrap">
          <h3>Gate 402 — catch-all</h3>
          <table>
            <thead><tr><th>Méthode</th><th>Chemin</th><th>Description</th></tr></thead>
            <tbody>
              <tr>
                <td><span class="method method--any">ANY</span></td>
                <td class="path-cell">/*</td>
                <td class="desc-cell">Toutes les autres requêtes nécessitent paiement ou solde prépayé</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ============ AGENT INTEGRATION ============ -->
    <section class="section reveal" id="integration">
      <span class="tag tag--402">Intégration</span>
      <h2 class="section__title">Intégration agents : exemples Python et TypeScript</h2>
      <p class="section__desc">
        Intégrez le flux 402 en quelques lignes. La passerelle gère facturation et vérification — votre code paie et réessaie.
      </p>
      <div class="split">
        <div class="code-card">
          <div class="code-card__header">
            <span class="code-card__dot" style="background:#ff5f57;"></span>
            <span class="code-card__dot" style="background:#febc2e;"></span>
            <span class="code-card__dot" style="background:#28c840;"></span>
            <span class="code-card__title">agent.py</span>
          </div>
<pre><span class="kw">import</span> requests, subprocess, os

res = requests.<span class="fn">get</span>(<span class="str">"http://gateway:4020/api/data"</span>)

<span class="kw">if</span> res.status_code == <span class="num">402</span>:
    inv = res.<span class="fn">json</span>()[<span class="str">"payment"</span>]

    <span class="cm"># Pay with ClawPurse</span>
    subprocess.<span class="fn">run</span>([
        <span class="str">"clawpurse"</span>, <span class="str">"send"</span>,
        inv[<span class="str">"address"</span>], inv[<span class="str">"amount"</span>],
        <span class="str">"--memo"</span>, inv[<span class="str">"memo"</span>], <span class="str">"--yes"</span>
    ])

    <span class="cm"># Retry with proof</span>
    res = requests.<span class="fn">get</span>(
        <span class="str">"http://gateway:4020/api/data"</span>,
        headers={<span class="str">"X-Payment-Proof"</span>: inv[<span class="str">"invoiceId"</span>]}
    )

data = res.<span class="fn">json</span>()</pre>
        </div>
        <div class="code-card">
          <div class="code-card__header">
            <span class="code-card__dot" style="background:#ff5f57;"></span>
            <span class="code-card__dot" style="background:#febc2e;"></span>
            <span class="code-card__dot" style="background:#28c840;"></span>
            <span class="code-card__title">agent.ts</span>
          </div>
<pre><span class="kw">async function</span> <span class="fn">paidFetch</span>(url: string) {
  <span class="kw">let</span> res = <span class="kw">await</span> <span class="fn">fetch</span>(url);

  <span class="kw">if</span> (res.status === <span class="num">402</span>) {
    <span class="kw">const</span> { payment } = <span class="kw">await</span> res.<span class="fn">json</span>();

    <span class="cm">// Pay with ClawPurse</span>
    <span class="kw">const</span> { send, loadKeystore }
      = <span class="kw">await</span> <span class="fn">import</span>(<span class="str">"clawpurse"</span>);
    <span class="kw">const</span> { wallet, address }
      = <span class="kw">await</span> <span class="fn">loadKeystore</span>(
          process.env.CLAWPURSE_PASSWORD!
        );
    <span class="kw">await</span> <span class="fn">send</span>(
      wallet, address,
      payment.address, payment.amount,
      { memo: payment.memo }
    );

    <span class="cm">// Retry with proof</span>
    res = <span class="kw">await</span> <span class="fn">fetch</span>(url, {
      headers: {
        <span class="str">"X-Payment-Proof"</span>: payment.invoiceId
      }
    });
  }
  <span class="kw">return</span> res.<span class="fn">json</span>();
}</pre>
        </div>
      </div>
    </section>

    <!-- ============ QUICK START ============ -->
    <section class="section reveal" id="quick-start">
      <span class="tag tag--mint">Démarrage rapide</span>
      <h2 class="section__title">Installez et lancez la passerelle en moins d'une minute</h2>
      <div class="code-card" style="max-width: 680px;">
        <div class="code-card__header">
          <span class="code-card__dot" style="background:#ff5f57;"></span>
          <span class="code-card__dot" style="background:#febc2e;"></span>
          <span class="code-card__dot" style="background:#28c840;"></span>
          <span class="code-card__title">terminal</span>
        </div>
<pre><span class="cm"># Clone and install</span>
git clone https://github.com/mhue-ai/clawpurse-gateway.git
<span class="kw">cd</span> clawpurse-gateway && npm install

<span class="cm"># Configure</span>
cp .env.example .env
<span class="cm"># Set GATEWAY_PAYMENT_ADDRESS and JWT_SECRET</span>

<span class="cm"># Start a test upstream</span>
npm run test:upstream

<span class="cm"># Start the gateway</span>
npm run dev

<span class="cm"># Test the 402 flow</span>
curl <span class="str">http://localhost:4020/api/test</span>
<span class="cm"># Pay, then retry with proof:</span>
curl -H <span class="str">"X-Payment-Proof: &lt;invoiceId&gt;"</span> \
     <span class="str">http://localhost:4020/api/test</span></pre>
      </div>
    </section>

    <!-- ============ ARCHITECTURE ============ -->
    <section class="section reveal" id="architecture">
      <span class="tag tag--gold">Architecture</span>
      <h2 class="section__title">Architecture microservices TypeScript</h2>
      <p class="section__desc">
        Codebase TypeScript ciblé — logique passerelle, quatre services internes et middleware. 46 tests unitaires couvrent chaque couche.
      </p>
      <div class="arch-cards">
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-402);">config.ts</div>
          <div class="acard__desc">Config passerelle par env</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-mint);">db.ts</div>
          <div class="acard__desc">SQLite : factures, prépayé, logs</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-gold);">invoice.ts</div>
          <div class="acard__desc">Création de factures et tarification</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-402);">verify.ts</div>
          <div class="acard__desc">Vérification paiement on-chain</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-mint);">proxy.ts</div>
          <div class="acard__desc">Proxy inverse vers upstream</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-gold);">AuthService</div>
          <div class="acard__desc">Auth JWT pour API de gestion</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-402);">WalletService</div>
          <div class="acard__desc">Registre portefeuilles internes</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-mint);">TxService</div>
          <div class="acard__desc">Transferts entre portefeuilles</div>
        </div>
        <div class="acard">
          <div class="acard__name" style="color:var(--accent-gold);">BlockchainSvc</div>
          <div class="acard__desc">Blockchain interne</div>
        </div>
      </div>
    </section>

    <!-- ============ CONFIGURATION ============ -->
    <section class="section reveal" id="configuration">
      <span class="tag tag--402">Config</span>
      <h2 class="section__title">Configuration de la passerelle via variables d'environnement</h2>
      <p class="section__desc">Tous les paramètres via env vars ou fichier <code style="font-size:0.9rem; background:var(--bg-elevated); padding:2px 6px; border-radius:4px;">.env</code>.</p>
      <div class="config-table-wrap">
        <table>
          <thead><tr><th>Variable</th><th>Défaut</th><th>Description</th></tr></thead>
          <tbody>
            <tr><td>PORT</td><td>4020</td><td class="desc-cell">Port d'écoute de la passerelle</td></tr>
            <tr><td>GATEWAY_UPSTREAM</td><td>http://localhost:3000</td><td class="desc-cell">API upstream à proxifier</td></tr>
            <tr><td>GATEWAY_PAYMENT_ADDRESS</td><td>&mdash;</td><td class="desc-cell">Adresse portefeuille Neutaro (requis)</td></tr>
            <tr><td>GATEWAY_DEFAULT_PRICE</td><td>0.001</td><td class="desc-cell">Prix par défaut par requête en NTMPI</td></tr>
            <tr><td>GATEWAY_ROUTES</td><td>&mdash;</td><td class="desc-cell">Surcharges prix par route</td></tr>
            <tr><td>GATEWAY_REST</td><td>https://api2.neutaro.io</td><td class="desc-cell">Endpoint API REST Neutaro</td></tr>
            <tr><td>GATEWAY_MIN_CONFIRMATIONS</td><td>1</td><td class="desc-cell">Confirmations de bloc requises</td></tr>
            <tr><td>GATEWAY_INVOICE_TTL</td><td>300</td><td class="desc-cell">Validité facture en secondes</td></tr>
            <tr><td>GATEWAY_PREPAID</td><td>false</td><td class="desc-cell">Activer système solde prépayé</td></tr>
            <tr><td>GATEWAY_DB</td><td>./gateway.db</td><td class="desc-cell">Chemin base de données SQLite</td></tr>
            <tr><td>JWT_SECRET</td><td>&mdash;</td><td class="desc-cell">Secret JWT API de gestion (requis)</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ============ ECOSYSTEM ============ -->
    <section class="section reveal" id="ecosystem">
      <span class="tag tag--mint">Écosystème</span>
      <h2 class="section__title">Partie de l'écosystème Timpi, Neutaro et ClawPurse</h2>
      <div class="eco-grid">
        <div class="eco-card">
          <h3>Portefeuille ClawPurse</h3>
          <p>
            Portefeuille NTMPI local avec keystores chiffrés, garde-fous, staking et listes de destinations. Client de référence pour la passerelle.
          </p>
          <p style="margin-top:12px;"><a href="https://github.com/mhue-ai/ClawPurse" target="_blank" rel="noopener">github.com/mhue-ai/ClawPurse &rarr;</a></p>
        </div>
        <div class="eco-card">
          <h3>Blockchain Neutaro</h3>
          <p>
            La chaîne Cosmos SDK alimentant NTMPI. Tous les paiements vérifiés directement contre Neutaro — sans oracles, sans ponts.
          </p>
          <p style="margin-top:12px;"><a href="https://neutaro.com" target="_blank" rel="noopener">neutaro.com &rarr;</a></p>
        </div>
        <div class="eco-card">
          <h3>Réseau Timpi</h3>
          <p>
            Recherche décentralisée avec confidentialité, API de données ouverte et nœuds DePIN. Monétisez tout service Timpi via micropaiements.
          </p>
          <p style="margin-top:12px;"><a href="https://timpi.io" target="_blank" rel="noopener">timpi.io &rarr;</a></p>
        </div>
        <div class="eco-card">
          <h3>Faucet Timpi Drip</h3>
          <p>
            Faucet NTMPI avec proof-of-work au lieu de CAPTCHA. Agents OpenClaw obtiennent un débit plus élevé.
          </p>
          <p style="margin-top:12px;"><a href="https://drip.clawpurse.ai" target="_blank" rel="noopener">drip.clawpurse.ai &rarr;</a></p>
        </div>
      </div>
    </section>

    <!-- ============ FAQ ============ -->
    <section class="section reveal" id="faq">
      <span class="tag tag--gold">FAQ</span>
      <h2 class="section__title">Questions fréquentes</h2>
      <div style="display: flex; flex-direction: column; gap: 20px; max-width: 760px;">
        <div class="fcard">
          <h3>Qu'est-ce que ClawPurse Gateway ?</h3>
          <p>Un proxy inverse HTTP open source implémentant <strong>402 Payment Required</strong> pour protéger toute API avec micropaiements NTMPI sur Neutaro.</p>
        </div>
        <div class="fcard">
          <h3>Comment fonctionne le flux de paiement HTTP 402 ?</h3>
          <p>Le client reçoit une réponse 402 avec facture, paie on-chain, réessaie avec en-tête <code style="font-size:0.82rem; background:var(--bg-elevated); padding:2px 6px; border-radius:4px;">X-Payment-Proof</code>. La passerelle vérifie et redirige.</p>
        </div>
        <div class="fcard">
          <h3>Qu'est-ce que NTMPI et comment l'obtenir ?</h3>
          <p>NTMPI est le token natif de Neutaro, partie du réseau <a href="https://timpi.io" target="_blank" rel="noopener" style="color:var(--accent-mint); text-decoration:none;">Timpi</a> . Obtenez des NTMPI gratuits du <a href="https://drip.clawpurse.ai" target="_blank" rel="noopener" style="color:var(--accent-mint); text-decoration:none;">Faucet Timpi Drip</a>, achetez sur <a href="https://www.mexc.com/exchange/NTMPI_USDT" target="_blank" rel="noopener" style="color:var(--accent-mint); text-decoration:none;">MEXC</a> via NTMPI/USDT, ou pontez via Gravity Bridge vers Osmosis avec Keplr ou Leap.</p>
        </div>
        <div class="fcard">
          <h3>Les agents IA peuvent-ils utiliser le gateway de manière autonome ?</h3>
          <p>Oui. Conçu pour l'IA agentique. Les agents parsent la facture 402, paient on-chain via l' <a href="https://github.com/mhue-ai/ClawPurse" target="_blank" rel="noopener" style="color:var(--accent-mint); text-decoration:none;">API du portefeuille ClawPurse</a>, et réessaient — sans intervention humaine.</p>
        </div>
      </div>
    </section>

    <!-- ============ DONATE ============ -->
    <section class="section reveal">
      <div class="donate">
        <p style="font-weight:600; font-size:1.1rem; color:var(--accent-mint); margin-bottom:4px;">
          Offrez un café Timpi à Mhue ☕
        </p>
        <p style="color:var(--text-2); font-size:0.92rem;">
          Si la passerelle vous fait gagner du temps, envoyez un pourboire.
        </p>
        <code class="donate__addr">neutaro1e8xal8tqdegu4w48z3fphemd3hc07gech3pfek</code>
        <p style="margin-top:14px; font-size:0.85rem; color:var(--text-3);">Mémo optionnel — dites-nous ce que vous avez lancé !</p>
      </div>
    </section>

  </main>

  <!-- ============ FOOTER ============ -->
  <footer>
    <nav aria-label="Page sections" style="margin-bottom:20px;">
      <div class="footer-links">
        <a href="#payment-flows">Flux de paiement</a>
        <a href="#features">Fonctionnalités</a>
        <a href="#api">Référence API</a>
        <a href="#integration">Intégration</a>
        <a href="#quick-start">Démarrage rapide</a>
        <a href="#configuration">Configuration</a>
        <a href="#faq">FAQ</a>
      </div>
    </nav>
    <nav aria-label="External links">
      <div class="footer-links">
        <a href="https://github.com/mhue-ai/clawpurse-gateway" target="_blank" rel="noopener">Dépôt passerelle</a>
        <a href="https://github.com/mhue-ai/ClawPurse" target="_blank" rel="noopener">Dépôt portefeuille</a>
        <a href="https://drip.clawpurse.ai" target="_blank" rel="noopener">Timpi Drip</a>
        <a href="https://neutaro.com" target="_blank" rel="noopener">Neutaro</a>
        <a href="https://timpi.io" target="_blank" rel="noopener">Timpi</a>
        <a href="https://explorer.neutaro.io" target="_blank" rel="noopener">Explorateur</a>
      </div>
    </nav>
    <p>Maintenu par la famille Mhue &bull; ClawPurse Gateway v0.2.0 &bull; Licence MIT</p>
  </footer>

  <script>
    // Intersection Observer for scroll reveals
    const obs = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } });
    }, { threshold: 0.12 });
    document.querySelectorAll('.reveal').forEach(el => obs.observe(el));
  </script>
</body>
</html>
